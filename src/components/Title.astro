---
interface Props {
  firstTitle: string;
  secondTitle?: string;
}

const { firstTitle, secondTitle }: Props = Astro.props;
---

<h1>
  <span class="font-tertiary title-text-gradient font-bold text-6xl"
    >{firstTitle}</span
  >
  &nbsp;
  <span class="font-secondary title-text-gradient font-medium text-[64px]" id="title-to-animate">
    {secondTitle}
  </span>
</h1>

<style>
  @reference '@styles/global.css';

  .title-text-gradient {
    @apply bg-clip-text bg-gradient-to-b from-success-600 to-info-50 text-transparent;
  }
</style>

<script>
  import { gsap } from 'gsap';
  import { TextPlugin } from 'gsap/TextPlugin';

  const titleToAnimate = document.getElementById('title-to-animate');

  gsap.registerPlugin(TextPlugin);

  const tl = gsap.timeline({ repeat: -1, repeatDelay: 1 });

  const phrases: string[] = [
    'DIGITAL',
    'REDES',
    'IDENTIDAD',
    'UX/UI',
    'IMPRESO',
  ]

  const specs = {
    duration: .8,
    delay: 2.2,
    ease: 'power1.inOut'
  }

  phrases.forEach((phrase, index) => {
    if (index === 0) {
      tl.to(titleToAnimate, {
        duration: 1.5,
        ease: 'power1.inOut',
        text: phrase,
      })
    } else {
      tl.to(titleToAnimate, {
        ...specs,
        text: phrase,
      })
    }
  })

  tl.to(titleToAnimate, {
    ...specs,
    text: '',
  })
  
  
</script>